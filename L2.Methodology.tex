\documentclass{beamer}
\mode<presentation>
{
  \usepackage{theme/theme}
  \setbeamercovered{transparent}
}

\usepackage{amsmath,amssymb,amsfonts}
\usepackage{times}
\usepackage{graphicx}
\usepackage{fancyvrb}
\usepackage{array}
\usepackage{colortbl}
\usepackage{tabularx}
\usepackage{fontspec}
\usepackage{minted}
\usepackage{libs/tikz-uml}

% Uncomment me when you need to insert code
\usepackage{color}
\usepackage{listings}
% End Code

% Uncomment me when you need video or sound
\usepackage{multimedia}
\usepackage{hyperref}
% End video

% End Header

% Titlepage
\title{L2. Methodology}
\author{Enterprise Software Architectures}
\institute
{
  Bachelor's Degree in Computer Engineering
}
\date{Academic course 2025/26}
% End Titlepage

\AtBeginSection[]{
  \begin{frame}
    \centering
    \begin{beamercolorbox}[sep=8pt,center]{title}
      \usebeamerfont{title}\insertsectionhead
    \end{beamercolorbox}
  \end{frame}
}

% Slides
\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{L2. Methodology}
  \tableofcontents[subsectionstyle=show]
\end{frame}

\section{Block A - Agile Software Development}
\subsection{The Agile Manifesto}
\begin{frame}
  \frametitle{The Agile Manifesto}

  \begin{itemize}
    \item \textbf{Individuals and interactions} over processes and tools.
    \begin{itemize}
      \item Face-to-face conversation.
      \item Self-organizing teams.
      \item Business people and developers work together.
    \end{itemize}
    \item \textbf{Working software} over comprehensive documentation.
    \begin{itemize}
      \item Early and \textbf{continuous delivery} of valuable software.
    \end{itemize}
    \item \textbf{Customer collaboration} over contract negotiation.
    \item \textbf{Responding to change} over following a plan.
    \begin{itemize}
      \item Changing requirements.
      \item Simplicity (maximizing the amount of work not done).
    \end{itemize}
  \end{itemize}

  \vfill

  \url{https://agilemanifesto.org/}
\end{frame}


\subsection{Main Roles}
\begin{frame}
  \frametitle{Main Roles}

  \begin{itemize}
    \item \textbf{Product Owner}
    \begin{itemize}
      \item Brings their vision to the team.
      \item Outlines and prioritizes the work in the product backlog.
      \item Usually a client representative, who reconciles interests and expectations of all stakeholders.
    \end{itemize}
    \item \textbf{Agile Master}
    \begin{itemize}
      \item Facilitates the Agile process and removes impediments.
    \end{itemize}
    \item \textbf{Development Team}.
    \begin{itemize}
      \item \textit{That's you!}
      \item Cross-functional and self-organizing.
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Scrum}
\begin{frame}
  \frametitle{Scrum}
  \begin{figure}
    \includegraphics[width=0.9\textwidth]{images/diagrams/Scrum_process.pdf}
    \caption{Overview of the Scrum process. Source: \href{https://commons.wikimedia.org/wiki/File:Scrum_process.svg}{Wikimedia Commons}}
  \end{figure}
\end{frame}

\begin{frame}
  \frametitle{Scrum Events}
  Every day:
  \begin{itemize}
    \item \textbf{Daily stand-up (10-15 minutes):} The Team synchronizes activities, detects short-term impediments, and plans the next 24 hours.
  \end{itemize}
  Once per sprint:
  \begin{itemize}
    \item \textbf{Sprint review:} The Team (and sometimes the PO) discuss the work completed during the sprint and plan for the next sprint.
    \item \textbf{Sprint retrospective:} The Team and the Scrum Master reflect on how the sprint went and identify improvements for working more effectively in the next sprint.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Scrum Backlog}  
  \begin{itemize}
    \item The backlog is an \textbf{ordered} list of tasks.
    \begin{itemize}
      \item Tasks can be \textit{features}, \textit{bugfixes}, \textit{spikes}, etc.
    \end{itemize}
    \item Tasks should always include a time estimate.
    \begin{itemize}
      \item Time is estimated using an abstract unit called \textit{Story Points}.
    \end{itemize}
    \item All tasks are assigned a \textbf{priority}.
    \begin{itemize}
      \item This reflects error severity, business value, or other criteria.
    \end{itemize}
    \item Tasks are usually grouped in \textit{Epics}.
  \end{itemize}

\end{frame}

\begin{frame}
  \frametitle{Scrum Backlog}  
  \begin{figure}
    \includegraphics[height=0.7\textheight]{images/jira-backlog.png}
    \caption{Screenshot of a Scrum Backlog in Jira. Source: \href{https://www.atlassian.com/software/jira/templates/product-backlog-template}{Jira}}
  \end{figure}
\end{frame}

\begin{frame}
  \frametitle{Scrum Backlog: Burndown Chart}  
  \begin{figure}
    \includegraphics[height=0.7\textheight]{images/burndown-chart.pdf}
    \caption{Sample Burndown Chart. Source: \href{https://commons.wikimedia.org/wiki/File:SampleBurndownChart.svg}{Wikimedia Commons}}
  \end{figure}
\end{frame}

\subsection{Kanban}
\begin{frame}
  \frametitle{Kanban}
  \begin{columns}[T,onlytextwidth]
    \column{0.5\textwidth}
    \centering
    \begin{minipage}[c][.6\textheight][c]{\linewidth}
      \begin{itemize}
        \item \textbf{Continuous flow} of tasks, from left to right.
        \item No explicit roles or sprint retrospectives.
        \item Focuses on visualizing and \textbf{limiting work in progress}.
      \end{itemize}
    \end{minipage}

    \column{0.5\textwidth}
    \centering
    \begin{figure}
      \includegraphics[width=1\textwidth]{images/kanban-simple.jpg}
      \caption{A simple Kanban board. Source: \href{https://commons.wikimedia.org/wiki/File:Simple-kanban-board-.jpg}{Wikimedia Commons}}
    \end{figure}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Examples of Kanban tools}

  \begin{columns}[T,onlytextwidth]
    \column{0.5\textwidth}
    \begin{minipage}[c][.6\textheight][c]{\linewidth}
      \begin{figure}
        \includegraphics[width=0.9\textwidth]{images/kanban-whiteboard.jpg}
        \caption{Physical Kanban board. \newline Source: \href{https://www.flickr.com/photos/chrishuffman/2336990347}{Chris Huffman at Flickr (license: CC BY-NC-ND 2.0)}}
      \end{figure}
    \end{minipage}

    \column{0.5\textwidth}
    \begin{minipage}[c][.6\textheight][c]{\linewidth}
      \begin{figure}
        \includegraphics[width=0.9\textwidth]{images/trello.png}
        \caption{Trello board. Source: \href{https://trello.com/use-cases/process-tracking}{Trello}}
      \end{figure}
    \end{minipage}
  \end{columns}

\end{frame}


\section{Block B - Agile methodology in our project}
\begin{frame}
  \frametitle{Scrumban}

  We will use a hybrid methodology called \textbf{Scrumban}\footnote{https://www.atlassian.com/agile/project-management/scrumban}, which combines elements of Scrum and Kanban:

  \begin{itemize}
    \item Scrum \textbf{fixed-length sprints} for planning and delivery.
    \item Scrum \textbf{sprint review} and \textbf{sprint retrospective}.
    \item \textbf{Kanban board} for visualizing and limiting work in progress.
    \item The Scrum \textbf{backlog} is sorted by priority and used to feed the Kanban stream of tasks.
  \end{itemize}

\end{frame}

\begin{frame}
  \frametitle{Task states}

  \begin{itemize}
    \item \textbf{Inbox}: Proposed tasks that have not yet been accepted.
    \item \textbf{Backlog}: Accepted tasks that can be picked up by anyone.
    \item \textbf{In progress}: Tasks that are assigned to a group and currently being worked on.
    \item \textbf{In review}: Tasks with a created pull request, pending to be reviewed and merged.
    \item \textbf{Done}: Completed tasks with a merged pull request.
  \end{itemize}

  \begin{exampleblock}{Important}
    Each team can have at most \textbf{3 tasks} in progress at any given time.
  \end{exampleblock}

\end{frame}

\begin{frame}
  \frametitle{Proposing a task}

  \begin{itemize}
    \item Anyone can (and must) create tasks (GitHub issues).
    \item \textbf{All} tasks must move the project forward toward the PM's vision. If you are unsure about some details, ask for clarification before creating the task.
    \item The task submitter will earn \textbf{0.25 points} once anyone completes the task. \newline If a student consistently submits high quality, well-specified tasks, they may earn up to \textbf{1 point per task}.
  \end{itemize}
  
  \begin{alertblock}{Warning}
    Non-sensical, AI-generated or spammy tasks will incur a penalty of several points.
  \end{alertblock}
\end{frame}

\begin{frame}
  \frametitle{Implementing the task}

  \begin{enumerate}
    \item \textbf{Decide on a task} from the backlog that you would like to implement.
    \begin{itemize}
      \item \textit{Tip:} You can filter the issues list by the \texttt{backlog} label.
    \end{itemize}
    \item \textbf{Self-assign the task} by creating a comment with only the word: \texttt{request}.
    \item Create a branch and complete the task (implement new feature, fix bug, etc.).
    \begin{itemize}
      \item \textit{Tip:} Don't forget to write the corresponding tests.
    \end{itemize}
    \item \textbf{Create a Pull Request} against the \texttt{main} branch.
    \item Wait for the PR to be reviewed. You may need to make changes before it's accepted.
    \item \textbf{Earn points} (see the next slide).
  \end{enumerate}
  
\end{frame}

\begin{frame}
  \frametitle{Implementing the task: Earning points}

  Once the PR is accepted, you will earn an amount of points roughly \textbf{equivalent to the task's story points estimation}.

  \begin{block}{Caveat 1}
    If you are the same group that submitted the task, you only get \textbf{half the points}.
  \end{block}

  \begin{block}{Caveat 2}
    At the end of the course, I'll calibrate the story points and \textbf{penalize} groups that were "too generous" with their estimations.
  \end{block}
  
\end{frame}

\begin{frame}
  \frametitle{Example}

  There are 2 groups: Alice+Albert and Bob+Barbara.
  \begin{enumerate}
    \item Alice submits a feature task with an estimation of 2 story points.
    \item I review and approve the task, it is moved to the backlog.
    \item Bob self-assigns the task, implements it and creates a PR.
    \item I review and accept Bob's PR.
  \end{enumerate}
  At this point, Alice and Albert earn 0.25 points and Bob and Barbara earn 2 points.

\end{frame}



\section{Block C - Introduction to REST}

\subsection{What is REST?}
\begin{frame}
  \frametitle{What is REST?}
  \begin{block}{Problem}
    We need to define an interface between our frontend (web-app running in client devices) and our backend (Java program running in the server).
  \end{block}

  REST (Representational State Transfer) is an architectural pattern where we map each \textbf{backend resource} to a \textbf{URI}.
  \newline
  When the client wants to read or modify information, it performs an HTTP request to the corresponding endpoint.

\end{frame}

\subsection{RESTful API design}
\begin{frame}
  \frametitle{RESTful API design: Steps}

  \begin{enumerate}
      \only<1>{
      \item Identify which \textbf{resources} should be exposed to the frontend. \newline \textit{Tip:} They usually match the most important classes in your ER model.
      }
      \only<2>{
        \setcounter{enumi}{1}
      \item Find a good URI for each resource. URIs should read like a filesystem path, with alternating {\color{blue!60!black}collections} and {\color{green!50!black}elements}.
      }
      \only<3>{
        \setcounter{enumi}{2}
      \item See which \textbf{HTTP metods} make sense for each URI. \newline We will use a simplified version of REST with only 4 verbs:
      }
  \end{enumerate}

  \vfill

  \only<1>{
    \centering
    \begin{tikzpicture}
      \umlclass{User}{...}{}
      \umlclass[x=6,y=0]{Book}{...}{}

      \umlassoc[geometry=-|-, mult1=*, mult2=*, pos2=2.8, name=assoc]{User}{Book}
      \umlassocclass[x=3,y=-1.5]{FavoriteBook}{assoc-2}{...}{}
    \end{tikzpicture}
  }
  \only<2>{
    \centering
    \begin{tabular}{@{}l l@{}}
      \textbf{URI} & \textbf{Meaning} \\
      \hline
      \texttt{/{\color{blue!60!black}books}} & Collection of all books \\
      \texttt{/{\color{blue!60!black}books}/{\color{green!50!black}187}} & Book with ID = 187 \\
      \texttt{/{\color{blue!60!black}users}} & Collection of all users \\
      \texttt{/{\color{blue!60!black}users}/{\color{green!50!black}mike}} & User with username = "mike" \\
      \texttt{/{\color{blue!60!black}users}/{\color{green!50!black}mike}/{\color{blue!60!black}favoriteBooks}} & List of Mike's favorite books \\
      \texttt{/{\color{blue!60!black}users}/{\color{green!50!black}mike}/{\color{blue!60!black}favoriteBooks}/{\color{green!50!black}187}} & FavoriteBook association \\
    \end{tabular}
  }
  \only<3>{
    \begin{itemize}
      \item {\color{green!60!black}\texttt{GET}}: Read an \textbf{entity}, or list all members of a \textbf{collection}. \newline The GET method is always \textit{safe}, it never modifies data.
      \item {\color{orange!80!black}\texttt{POST}}: Create a new entity in a \textbf{collection}.
      \item {\color{blue}\texttt{PUT}}: Modify/update an \textbf{entity}.
      \item {\color{red}\texttt{DELETE}}: Delete an \textbf{entity}.
    \end{itemize}

    \begin{exampleblock}{Important}
      Notice that \texttt{GET} is the only verb that can be used with both collection and entity URIs. \newline Some APIs allow using \texttt{DELETE} on an entire collection, but that is considered dangerous and a bad practice.
    \end{exampleblock}
  }

\end{frame}

\begin{frame}
  \frametitle{RESTful API design: Examples}

  List/search books. Filters are sent via \textbf{query parameters}:\newline
  \texttt{{\color{green!60!black}GET} /books\textbf{?year=2017\&title=Origin}}
  \newline

  Create a new book. Data is sent via \textbf{HTTP request body}:\newline
  \texttt{{\color{orange!80!black}POST} /books}\newline
  \texttt{\{"title": "The Hobbit", "year": "1937", ...\}}
  \newline

  Update user info. Only \textit{modified} fields are sent via \textbf{body}:\newline
  \texttt{{\color{blue}PUT} /users/mike}\newline
  \texttt{\{{"birthday": "2003-04-19"}\}}
  \newline

  Un-favorite a book:\newline
  \texttt{{\color{red}DELETE} /users/mike/favoriteBooks/187}\newline
\end{frame}

\begin{frame}
  \frametitle{RESTful API design: Additional considerations}

  \begin{itemize}
    \item The request body is always a \textbf{JSON object}, and can only be used in \texttt{PUT} and \texttt{POST} (never in \texttt{GET} or \texttt{DELETE}).
    \item The response body is always a \textbf{JSON object or array}.
    \item The HTTP response code can be either:
      \begin{itemize}
        \item \textbf{\color{green!60!black}\texttt{200 OK}} for \texttt{GET}, \texttt{PUT} and \texttt{DELETE}. \textbf{\color{green!60!black}\texttt{201 CREATED}} for \texttt{POST}.
        \item \textbf{\color{orange!80!black}\texttt{4xx}} for client errors (incorrect API usage).
        \item \textbf{\color{red}\texttt{5xx}} for server errors (unhandled errors in the backend).
      \end{itemize}
    \item Not all users can perform all operations! The client must send an \texttt{Authorization} header which the backend validates.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{RESTful API design: Additional considerations}

  \begin{block}{Problem}
    What if I need to add a functionality that doesn't map well to any resource URI? For example: "Resend the user's verification mail"
  \end{block}

  In this case, we create a new URI corresponding to a \textbf{verb} (action) instead of a \textbf{noun} (resource).\newline
  \texttt{{\color{orange!80!black}POST} /users/mike/\textbf{resendVerificationMail}}\newline

  \begin{itemize}
    \item Use \texttt{{\color{orange!80!black}POST}} for non-idempotent actions (such as sending notifications) and \texttt{{\color{blue}PUT}} for idempotent actions (such as subscribing to a topic).
  \end{itemize}

\end{frame}

\end{document}
